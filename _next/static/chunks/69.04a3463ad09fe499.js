!function(){var e,t,n,r,a,o,s={9580:function(e,t,n){"use strict";var r=n(6647),a=n.n(r);let o=null,s=null,c=new Set;function i(e){self.postMessage({type:"log",payload:e})}async function l(){if(!s)return;i("Starting scan..."),self.postMessage({type:"state",payload:"scanning"});let e=new Set,t=[];async function n(r,o){for await(let s of r.values()){let r=o?"".concat(o,"/").concat(s.name):s.name;if("file"===s.kind){let n=s.name.toLowerCase();if((n.endsWith(".mp3")||n.endsWith(".flac"))&&(e.add(r),!c.has(r)))try{let e=await s.getFile(),n=await function(e){return new Promise((t,n)=>{a().read(e,{onSuccess:e=>{let n=e.tags;t({title:n.title||"Unknown Title",artist:n.artist||"Unknown Artist",album:n.album||"Unknown Album",track:n.track||"0"})},onError:t=>{i("jsmediatags error for ".concat(e.name,": ").concat(t.type," - ").concat(t.info)),n(t)}})})}(e);t.push({...n,path:r})}catch(e){i("Error processing file ".concat(r,": ").concat(e)),console.error("Error processing file ".concat(r,":"),e)}}else"directory"===s.kind&&await n(s,r)}}await n(s,""),t.length>0&&(i("Found ".concat(t.length," new tracks.")),self.postMessage({type:"added",payload:t}));let r=[...c].filter(t=>!e.has(t));r.length>0&&(i("Found ".concat(r.length," deleted tracks.")),self.postMessage({type:"deleted",payload:r})),c=e,i("Scan complete."),self.postMessage({type:"state",payload:"idle"})}self.onmessage=async e=>{let{type:t,directoryHandle:n,knownFilePaths:r}=e.data;"start"===t&&n&&r?(s=n,c=new Set(r),o&&clearInterval(o),i("Background scanner started."),o=self.setInterval(l,6e4),l()):"stop"===t&&(o&&(clearInterval(o),o=null),s=null,c.clear(),i("Background scanner stopped."),self.postMessage({type:"state",payload:"stopped"}))}}},c={};function i(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={exports:{}},r=!0;try{s[e](n,n.exports,i),r=!1}finally{r&&delete c[e]}return n.exports}i.m=s,i.x=function(){var e=i.O(void 0,[251,647],function(){return i(9580)});return i.O(e)},e=[],i.O=function(t,n,r,a){if(n){a=a||0;for(var o=e.length;o>0&&e[o-1][2]>a;o--)e[o]=e[o-1];e[o]=[n,r,a];return}for(var s=1/0,o=0;o<e.length;o++){for(var n=e[o][0],r=e[o][1],a=e[o][2],c=!0,l=0;l<n.length;l++)s>=a&&Object.keys(i.O).every(function(e){return i.O[e](n[l])})?n.splice(l--,1):(c=!1,a<s&&(s=a));if(c){e.splice(o--,1);var u=r();void 0!==u&&(t=u)}}return t},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce(function(t,n){return i.f[n](e,t),t},[]))},i.u=function(e){return 251===e?"static/chunks/251-e7428eb7952e3532.js":"static/chunks/"+e+".902fc344ad9a0cda.js"},i.miniCssF=function(e){},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.tt=function(){return void 0===t&&(t={createScriptURL:function(e){return e}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(t=trustedTypes.createPolicy("nextjs#bundler",t))),t},i.tu=function(e){return i.tt().createScriptURL(e)},i.p="/audio/_next/",n={69:1},i.f.i=function(e,t){n[e]||importScripts(i.tu(i.p+i.u(e)))},a=(r=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(r),r.push=function(e){var t=e[0],r=e[1],o=e[2];for(var s in r)i.o(r,s)&&(i.m[s]=r[s]);for(o&&o(i);t.length;)n[t.pop()]=1;a(e)},o=i.x,i.x=function(){return Promise.all([i.e(251),i.e(647)]).then(o)},_N_E=i.x()}();