(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[386],{803:function(){},9087:function(e,t,n){Promise.resolve().then(n.bind(n,4847))},4847:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7437),a=n(2265),i=n(7138),u=n(2561),s=n(6517);function l(){let[e,t]=(0,a.useState)([]),[n,l]=(0,a.useState)(null),[c,o]=(0,a.useState)(""),[f,E]=(0,a.useState)("");return(0,a.useEffect)(()=>{let e=()=>{let[e,t]=window.location.hash.substring(1).split("/").map(decodeURIComponent);E(e||""),o(t||"")};return e(),window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[]),(0,a.useEffect)(()=>{c&&f&&(async()=>{await (0,u.zK)(),t((0,u.mF)(c,f));let e=(0,u.eK)(c,f);if(e&&e.imageUrl)l(e);else try{var n,r;let t=await fetch("https://www.theaudiodb.com/api/v1/json/".concat(s.$,"/searchalbum.php?s=").concat(f,"&a=").concat(c)),a=await t.json(),i=(null===(r=a.album)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.strAlbumThumb)||"/placeholder.svg";e={name:c,artistName:f,imageUrl:i},(0,u.ZG)(e),l(e)}catch(e){console.error("Error fetching album image:",e),l({name:c,artistName:f,imageUrl:"/placeholder.svg"})}})()},[c,f]),(0,r.jsxs)("main",{children:[(0,r.jsxs)(i.default,{href:"/artist#".concat(encodeURIComponent(f)),style:{marginBottom:"1.5rem",display:"inline-block"},children:["â† Back to ",f]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[n&&(0,r.jsx)("img",{src:n.imageUrl,alt:n.name,style:{width:"150px",height:"150px",objectFit:"cover",borderRadius:"8px",marginRight:"1.5rem"}}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:c}),(0,r.jsx)("h2",{style:{marginTop:"-1rem",opacity:.8},children:f})]})]}),(0,r.jsx)("ul",{className:"list",children:e.map(e=>(0,r.jsxs)("li",{className:"list-item",children:[e.track,". ",e.title]},e.title))})]})}},6517:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});let r="123"},2561:function(e,t,n){"use strict";n.d(t,{EP:function(){return T},Jl:function(){return O},Lj:function(){return A},UM:function(){return E},Xs:function(){return S},ZG:function(){return p},Zi:function(){return w},aU:function(){return b},bN:function(){return g},eK:function(){return h},fC:function(){return R},gG:function(){return d},k8:function(){return I},mF:function(){return N},zK:function(){return m}});var r=n(2040),a=n.n(r);let i=null,u=null,s="audio-indexer-db",l="database";async function c(){return u||(u=await a()({locateFile:e=>"https://sql.js.org/dist/".concat(e)}))}function o(){return new Promise((e,t)=>{let n=indexedDB.open(s,1);n.onerror=()=>t("Error opening IndexedDB"),n.onsuccess=()=>e(n.result),n.onupgradeneeded=e=>{e.target.result.createObjectStore(l)}})}async function f(){let e=await o();return new Promise((t,n)=>{let r=e.transaction(l,"readonly").objectStore(l).get("db");r.onerror=()=>n("Error loading from IndexedDB"),r.onsuccess=()=>t(r.result)})}async function E(){if(!i)return;let e=i.export();(await o()).transaction(l,"readwrite").objectStore(l).put(e,"db")}async function m(){if(i)return i;let e=await c(),t=await f();return(i=t?new e.Database(t):new e.Database)&&i.run("\n    CREATE TABLE IF NOT EXISTS tracks (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      title TEXT,\n      artist TEXT,\n      album TEXT,\n      track TEXT\n    );\n    CREATE TABLE IF NOT EXISTS artists (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      name TEXT UNIQUE,\n      imageUrl TEXT\n    );\n    CREATE TABLE IF NOT EXISTS albums (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      name TEXT,\n      artistName TEXT,\n      imageUrl TEXT,\n      UNIQUE(name, artistName)\n    );\n  "),i}function d(e){if(!i)return;let t=i.prepare("INSERT INTO tracks (title, artist, album, track) VALUES (?, ?, ?, ?)");t.run([e.title,e.artist,e.album,e.track]),t.free()}function T(e){if(!i)return;let t=i.prepare("INSERT OR IGNORE INTO artists (name, imageUrl) VALUES (?, ?)");t.run([e.name,e.imageUrl]),t.free()}function p(e){if(!i)return;let t=i.prepare("INSERT OR IGNORE INTO albums (name, artistName, imageUrl) VALUES (?, ?, ?)");t.run([e.name,e.artistName,e.imageUrl]),t.free()}function R(){if(!i)return[];let e=i.exec("SELECT DISTINCT artist FROM tracks ORDER BY artist");return 0===e.length?[]:e[0].values.map(e=>null==e?void 0:e[0])}function b(e){if(!i)return null;let t=i.prepare("SELECT name, imageUrl FROM artists WHERE name = ?");if(t.bind([e]),t.step()){let e=t.getAsObject();return t.free(),e}return t.free(),null}function h(e,t){if(!i)return null;let n=i.prepare("SELECT name, artistName, imageUrl FROM albums WHERE name = ? AND artistName = ?");if(n.bind([e,t]),n.step()){let e=n.getAsObject();return n.free(),e}return n.free(),null}function g(e){if(!i)return[];let t=i.prepare("SELECT DISTINCT album FROM tracks WHERE artist = ? ORDER BY album");t.bind([e]);let n=[];for(;t.step();)n.push(t.get()[0]);return t.free(),n}function N(e,t){if(!i)return[];let n=i.prepare("SELECT title, artist, album, track FROM tracks WHERE album = ? AND artist = ? ORDER BY CAST(track AS INTEGER)");n.bind([e,t]);let r=[];for(;n.step();)r.push(n.getAsObject());return n.free(),r}function I(){if(!i)return[];let e=i.prepare("SELECT name, artistName, imageUrl FROM albums ORDER BY name"),t=[];for(;e.step();)t.push(e.getAsObject());return e.free(),t}function O(){if(!i)return[];let e=i.prepare("SELECT title, artist, album, track FROM tracks ORDER BY artist, album, CAST(track AS INTEGER)"),t=[];for(;e.step();)t.push(e.getAsObject());return e.free(),t}function S(){return i?i.export():null}async function w(e){let t=await c();i&&i.close(),i=new t.Database(e),await E()}async function A(){return i&&(i.close(),i=null),new Promise((e,t)=>{let n=indexedDB.deleteDatabase(s);n.onerror=()=>t("Error deleting database"),n.onsuccess=()=>e()})}},7138:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var r=n(231),a=n.n(r)}},function(e){e.O(0,[218,231,251,128,971,23,744],function(){return e(e.s=9087)}),_N_E=e.O()}]);