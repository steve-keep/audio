!function(){var e,t,n,r,a,s,o={7714:function(e,t,n){"use strict";var r=n(6647),a=n.n(r);async function*s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for await(let n of e.values()){let e=t?"".concat(t,"/").concat(n.name):n.name;if("file"===n.kind&&(n.name.endsWith(".mp3")||n.name.endsWith(".m4a")||n.name.endsWith(".flac"))){let t=await n.getFile();Object.defineProperty(t,"path",{value:e,writable:!1}),yield{file:t,path:e}}else"directory"===n.kind&&(yield*s(n,e))}}self.onmessage=async e=>{if("scan"===e.data.type){let{directoryHandle:t,trackIndex:n}=e.data,r=[],o={total:0,new:0,modified:0,unchanged:0};for await(let{file:e,path:a}of(postMessage({type:"status",message:"Scanning for new or modified files..."}),s(t))){o.total++;let t=n[a];t?t.lastModified!==e.lastModified||t.size!==e.size?(o.modified++,r.push(e)):o.unchanged++:(o.new++,r.push(e)),o.total%100==0&&postMessage({type:"scan-progress",stats:o})}postMessage({type:"scan-progress",stats:o}),postMessage({type:"status",message:"Parsing metadata for ".concat(r.length," files...")});let i=0,c=[];for(let e of r){try{let t=await function(e){return new Promise((t,n)=>{a().read(e,{onSuccess:n=>{let r=n.tags;t({title:r.title||e.name.replace(/\.[^/.]+$/,""),artist:r.artist||"Unknown Artist",album:r.album||"Unknown Album",track:r.track||"0",path:e.path,lastModified:e.lastModified,size:e.size})},onError:n=>{console.warn("Could not parse metadata for ".concat(e.name,":"),n),t({title:e.name.replace(/\.[^/.]+$/,""),artist:"Unknown Artist",album:"Unknown Album",track:"0",path:e.path,lastModified:e.lastModified,size:e.size})}})})}(e);c.push(t),c.length>=50&&(postMessage({type:"tracks-added",tracks:[...c]}),c.length=0)}catch(t){console.error("Failed to process file: ".concat(e.path),t)}++i%10==0&&postMessage({type:"parse-progress",processed:i,total:r.length})}c.length>0&&postMessage({type:"tracks-added",tracks:c}),postMessage({type:"parse-progress",processed:i,total:r.length}),postMessage({type:"scan-complete",stats:o})}}}},i={};function c(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}},r=!0;try{o[e](n,n.exports,c),r=!1}finally{r&&delete i[e]}return n.exports}c.m=o,c.x=function(){var e=c.O(void 0,[251,647],function(){return c(7714)});return c.O(e)},e=[],c.O=function(t,n,r,a){if(n){a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[n,r,a];return}for(var o=1/0,s=0;s<e.length;s++){for(var n=e[s][0],r=e[s][1],a=e[s][2],i=!0,u=0;u<n.length;u++)o>=a&&Object.keys(c.O).every(function(e){return c.O[e](n[u])})?n.splice(u--,1):(i=!1,a<o&&(o=a));if(i){e.splice(s--,1);var l=r();void 0!==l&&(t=l)}}return t},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,{a:t}),t},c.d=function(e,t){for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=function(e){return Promise.all(Object.keys(c.f).reduce(function(t,n){return c.f[n](e,t),t},[]))},c.u=function(e){return 251===e?"static/chunks/251-e7428eb7952e3532.js":"static/chunks/"+e+".902fc344ad9a0cda.js"},c.miniCssF=function(e){},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.tt=function(){return void 0===t&&(t={createScriptURL:function(e){return e}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(t=trustedTypes.createPolicy("nextjs#bundler",t))),t},c.tu=function(e){return c.tt().createScriptURL(e)},c.p="/audio/_next/",n={551:1,714:1},c.f.i=function(e,t){n[e]||importScripts(c.tu(c.p+c.u(e)))},a=(r=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(r),r.push=function(e){var t=e[0],r=e[1],s=e[2];for(var o in r)c.o(r,o)&&(c.m[o]=r[o]);for(s&&s(c);t.length;)n[t.pop()]=1;a(e)},s=c.x,c.x=function(){return Promise.all([c.e(251),c.e(647)]).then(s)},_N_E=c.x()}();