!function(){var e,t,n,a,r,s,o={7714:function(e,t,n){"use strict";var a=n(6647),r=n.n(a);async function*s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for await(let n of e.values()){let e=t?"".concat(t,"/").concat(n.name):n.name;if("file"===n.kind&&(n.name.endsWith(".mp3")||n.name.endsWith(".m4a")||n.name.endsWith(".flac"))){let t=await n.getFile();Object.defineProperty(t,"path",{value:e,writable:!1}),yield{file:t,path:e}}else"directory"===n.kind&&(yield*s(n,e))}}self.onmessage=async e=>{if("scan"===e.data.type){let{directoryHandle:t,trackIndex:n}=e.data,a=[],o={total:0,new:0,modified:0,unchanged:0};for await(let{file:e,path:r}of(postMessage({type:"status",message:"Scanning for new or modified files..."}),s(t))){o.total++;let t=n[r];t?t.lastModified!==e.lastModified||t.size!==e.size?(o.modified++,a.push(e)):o.unchanged++:(o.new++,a.push(e)),o.total%100==0&&postMessage({type:"scan-progress",stats:o})}postMessage({type:"scan-progress",stats:o}),postMessage({type:"status",message:"Parsing metadata for ".concat(a.length," files...")});let i=0,c=[];for(let e of a){try{let t=await function(e){return new Promise((t,n)=>{r().read(e,{onSuccess:n=>{let a=n.tags;t({title:a.title||e.name.replace(/\.[^/.]+$/,""),artist:a.artist||"Unknown Artist",album:a.album||"Unknown Album",track:a.track||"0",path:e.path,lastModified:e.lastModified,size:e.size})},onError:n=>{console.warn("Could not parse metadata for ".concat(e.name,":"),n),t({title:e.name.replace(/\.[^/.]+$/,""),artist:"Unknown Artist",album:"Unknown Album",track:"0",path:e.path,lastModified:e.lastModified,size:e.size})}})})}(e);c.push(t),c.length>=50&&(postMessage({type:"tracks-added",tracks:[...c]}),c.length=0)}catch(t){console.error("Failed to process file: ".concat(e.path),t)}++i%10==0&&postMessage({type:"parse-progress",processed:i,total:a.length})}c.length>0&&postMessage({type:"tracks-added",tracks:c}),postMessage({type:"parse-progress",processed:i,total:a.length}),postMessage({type:"scan-complete",stats:o})}}}},i={};function c(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}},a=!0;try{o[e](n,n.exports,c),a=!1}finally{a&&delete i[e]}return n.exports}c.m=o,c.x=function(){var e=c.O(void 0,[647,78],function(){return c(7714)});return c.O(e)},e=[],c.O=function(t,n,a,r){if(n){r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[n,a,r];return}for(var o=1/0,s=0;s<e.length;s++){for(var n=e[s][0],a=e[s][1],r=e[s][2],i=!0,l=0;l<n.length;l++)o>=r&&Object.keys(c.O).every(function(e){return c.O[e](n[l])})?n.splice(l--,1):(i=!1,r<o&&(o=r));if(i){e.splice(s--,1);var u=a();void 0!==u&&(t=u)}}return t},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,{a:t}),t},c.d=function(e,t){for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=function(e){return Promise.all(Object.keys(c.f).reduce(function(t,n){return c.f[n](e,t),t},[]))},c.u=function(e){return 647===e?"static/chunks/647-fb159037a604a747.js":"static/chunks/"+e+".d9a20bdbc18f48a6.js"},c.miniCssF=function(e){},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.tt=function(){return void 0===t&&(t={createScriptURL:function(e){return e}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(t=trustedTypes.createPolicy("nextjs#bundler",t))),t},c.tu=function(e){return c.tt().createScriptURL(e)},c.p="/audio/_next/",n={714:1,551:1},c.f.i=function(e,t){n[e]||importScripts(c.tu(c.p+c.u(e)))},r=(a=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(a),a.push=function(e){var t=e[0],a=e[1],s=e[2];for(var o in a)c.o(a,o)&&(c.m[o]=a[o]);for(s&&s(c);t.length;)n[t.pop()]=1;r(e)},s=c.x,c.x=function(){return Promise.all([c.e(647),c.e(78)]).then(s)},_N_E=c.x()}();