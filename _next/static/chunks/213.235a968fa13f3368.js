(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[213],{457:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r(6771);e.exports=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),e&&i(d,e);var t,r,f,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r,o,i=u(d);return o=t?Reflect.construct(i,arguments,u(this).constructor):i.apply(this,arguments),e=this,(r=o)&&("object"===n(r)||"function"==typeof r)?r:a(e)});function d(e){var t;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return s(a(t=l.call(this)),"_blob",void 0),s(a(t),"_fileData",void 0),t._blob=e,t._fileData=new c,t}return r=[{key:"_init",value:function(e){this._size=this._blob.size,setTimeout(e.onSuccess,1)}},{key:"loadRange",value:function(e,t){var r=this,n=(this._blob.slice||this._blob.mozSlice||this._blob.webkitSlice).call(this._blob,e[0],e[1]+1),o=new FileReader;o.onloadend=function(n){var i=new Uint8Array(o.result);r._fileData.addData(e[0],i),t.onSuccess()},o.onerror=o.onabort=function(e){t.onError&&t.onError({type:"blob",info:o.error})},o.readAsArrayBuffer(n)}},{key:"getByteAt",value:function(e){return this._fileData.getByteAt(e)}}],f=[{key:"canReadFile",value:function(e){return"undefined"!=typeof Blob&&e instanceof Blob||"undefined"!=typeof File&&e instanceof File}}],r&&o(d.prototype,r),f&&o(d,f),d}(r(1868))},560:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(1868),e.exports=function(){var e,t;function r(e){if(!(this instanceof r))throw TypeError("Cannot call a class as a function");o(this,"_mediaFileReader",void 0),o(this,"_tags",void 0),this._mediaFileReader=e,this._tags=null}return e=[{key:"setTagsToRead",value:function(e){return this._tags=e,this}},{key:"read",value:function(e){var t=this;this._mediaFileReader.init({onSuccess:function(){t._loadData(t._mediaFileReader,{onSuccess:function(){try{var r=t._parseData(t._mediaFileReader,t._tags)}catch(t){if(e.onError)return void e.onError({type:"parseData",info:t.message})}e.onSuccess(r)},onError:e.onError})},onError:e.onError})}},{key:"getShortcuts",value:function(){return{}}},{key:"_loadData",value:function(e,t){throw Error("Must implement _loadData function")}},{key:"_parseData",value:function(e,t){throw Error("Must implement _parseData function")}},{key:"_expandShortcutTags",value:function(e){if(!e)return null;for(var t,r=[],n=this.getShortcuts(),o=0;t=e[o];o++)r=r.concat(n[t]||[t]);return r}}],t=[{key:"getTagIdentifierByteRange",value:function(){throw Error("Must implement")}},{key:"canReadTagFormat",value:function(e){throw Error("Must implement")}}],e&&n(r.prototype,e),t&&n(r,t),r}()},1170:e=>{e.exports=XMLHttpRequest},1868:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(7587);e.exports=function(){var e,t;function r(e){if(!(this instanceof r))throw TypeError("Cannot call a class as a function");o(this,"_isInitialized",void 0),o(this,"_size",void 0),this._isInitialized=!1,this._size=0}return e=[{key:"init",value:function(e){var t=this;if(!this._isInitialized)return this._init({onSuccess:function(){t._isInitialized=!0,e.onSuccess()},onError:e.onError});setTimeout(e.onSuccess,1)}},{key:"_init",value:function(e){throw Error("Must implement init function")}},{key:"loadRange",value:function(e,t){throw Error("Must implement loadRange function")}},{key:"getSize",value:function(){if(!this._isInitialized)throw Error("init() must be called first.");return this._size}},{key:"getByteAt",value:function(e){throw Error("Must implement getByteAt function")}},{key:"getBytesAt",value:function(e,t){for(var r=Array(t),n=0;n<t;n++)r[n]=this.getByteAt(e+n);return r}},{key:"isBitSetAt",value:function(e,t){return(this.getByteAt(e)&1<<t)!=0}},{key:"getSByteAt",value:function(e){var t=this.getByteAt(e);return t>127?t-256:t}},{key:"getShortAt",value:function(e,t){var r=t?(this.getByteAt(e)<<8)+this.getByteAt(e+1):(this.getByteAt(e+1)<<8)+this.getByteAt(e);return r<0&&(r+=65536),r}},{key:"getSShortAt",value:function(e,t){var r=this.getShortAt(e,t);return r>32767?r-65536:r}},{key:"getLongAt",value:function(e,t){var r=this.getByteAt(e),n=this.getByteAt(e+1),o=this.getByteAt(e+2),i=this.getByteAt(e+3),a=t?(((r<<8)+n<<8)+o<<8)+i:(((i<<8)+o<<8)+n<<8)+r;return a<0&&(a+=0x100000000),a}},{key:"getSLongAt",value:function(e,t){var r=this.getLongAt(e,t);return r>0x7fffffff?r-0x100000000:r}},{key:"getInteger24At",value:function(e,t){var r=this.getByteAt(e),n=this.getByteAt(e+1),o=this.getByteAt(e+2),i=t?((r<<8)+n<<8)+o:((o<<8)+n<<8)+r;return i<0&&(i+=0x1000000),i}},{key:"getStringAt",value:function(e,t){for(var r=[],n=e,o=0;n<e+t;n++,o++)r[o]=String.fromCharCode(this.getByteAt(n));return r.join("")}},{key:"getStringWithCharsetAt",value:function(e,t,r){var n,o=this.getBytesAt(e,t);switch((r||"").toLowerCase()){case"utf-16":case"utf-16le":case"utf-16be":n=i.readUTF16String(o,"utf-16be"===r);break;case"utf-8":n=i.readUTF8String(o);break;default:n=i.readNullTerminatedString(o)}return n}},{key:"getCharAt",value:function(e){return String.fromCharCode(this.getByteAt(e))}},{key:"getSynchsafeInteger32At",value:function(e){var t=this.getByteAt(e),r=this.getByteAt(e+1),n=this.getByteAt(e+2);return 127&this.getByteAt(e+3)|(127&n)<<7|(127&r)<<14|(127&t)<<21}}],t=[{key:"canReadFile",value:function(e){throw Error("Must implement canReadFile function")}}],e&&n(r.prototype,e),t&&n(r,t),r}()},1889:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r(560);r(1868);var s=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),e&&i(d,e);var t,r,u,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r,o,i=a(d);return o=t?Reflect.construct(i,arguments,a(this).constructor):i.apply(this,arguments),e=this,(r=o)&&("object"===n(r)||"function"==typeof r)?r:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)});function d(){if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return s.apply(this,arguments)}return r=[{key:"_loadData",value:function(e,t){var r=this;e.loadRange([0,16],{onSuccess:function(){r._loadAtom(e,0,"",t)},onError:t.onError})}},{key:"_loadAtom",value:function(e,t,r,n){if(t>=e.getSize())return void n.onSuccess();var o=this,i=e.getLongAt(t,!0);if(0==i||isNaN(i))return void n.onSuccess();var a=e.getStringAt(t+4,4);if(this._isContainerAtom(a)){"meta"==a&&(t+=4);var u=(r?r+".":"")+a;"moov.udta.meta.ilst"===u?e.loadRange([t,t+i],n):e.loadRange([t+8,t+8+8],{onSuccess:function(){o._loadAtom(e,t+8,u,n)},onError:n.onError})}else e.loadRange([t+i,t+i+8],{onSuccess:function(){o._loadAtom(e,t+i,r,n)},onError:n.onError})}},{key:"_isContainerAtom",value:function(e){return["moov","udta","meta","ilst"].indexOf(e)>=0}},{key:"_canReadAtom",value:function(e){return"----"!==e}},{key:"_parseData",value:function(e,t){var r={};for(var n in t=this._expandShortcutTags(t),this._readAtom(r,e,0,e.getSize(),t),l)if(l.hasOwnProperty(n)){var o=r[l[n]];o&&("track"===n?r[n]=o.data.track:r[n]=o.data)}return{type:"MP4",ftyp:e.getStringAt(8,4),version:e.getLongAt(12,!0),tags:r}}},{key:"_readAtom",value:function(e,t,r,n,o,i,a){a=void 0===a?"":a+"  ";for(var u=r;u<r+n;){var s=t.getLongAt(u,!0);if(0==s)return;var c=t.getStringAt(u+4,4);if(this._isContainerAtom(c)){"meta"==c&&(u+=4);var f=(i?i+".":"")+c;this._readAtom(e,t,u+8,s-8,o,f,a);return}(!o||o.indexOf(c)>=0)&&"moov.udta.meta.ilst"===i&&this._canReadAtom(c)&&(e[c]=this._readMetadataAtom(t,u)),u+=s}}},{key:"_readMetadataAtom",value:function(e,t){var r=e.getLongAt(t,!0),n=e.getStringAt(t+4,4),o=c[e.getInteger24At(t+16+1,!0)];if("trkn"==n)i={track:e.getShortAt(t+16+10,!0),total:e.getShortAt(t+16+14,!0)};else if("disk"==n)i={disk:e.getShortAt(t+16+10,!0),total:e.getShortAt(t+16+14,!0)};else{var i,a=t+24,u=r-24;switch("covr"===n&&"uint8"===o&&(o="jpeg"),o){case"text":i=e.getStringWithCharsetAt(a,u,"utf-8").toString();break;case"uint8":i=e.getShortAt(a,!1);break;case"int":case"uint":i=("int"==o?1==u?e.getSByteAt:2==u?e.getSShortAt:4==u?e.getSLongAt:e.getLongAt:1==u?e.getByteAt:2==u?e.getShortAt:e.getLongAt).call(e,a+4*(8==u),!0);break;case"jpeg":case"png":i={format:"image/"+o,data:e.getBytesAt(a,u)}}}return{id:n,size:r,description:f[n]||"Unknown",data:i}}},{key:"getShortcuts",value:function(){return l}}],u=[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:16}}},{key:"canReadTagFormat",value:function(e){return"ftyp"===String.fromCharCode.apply(String,e.slice(4,8))}}],r&&o(d.prototype,r),u&&o(d,u),d}(u),c={0:"uint8",1:"text",13:"jpeg",14:"png",21:"int",22:"uint"},f={"\xa9alb":"Album","\xa9ART":"Artist",aART:"Album Artist","\xa9day":"Release Date","\xa9nam":"Title","\xa9gen":"Genre",gnre:"Genre",trkn:"Track Number","\xa9wrt":"Composer","\xa9too":"Encoding Tool","\xa9enc":"Encoded By",cprt:"Copyright",covr:"Cover Art","\xa9grp":"Grouping",keyw:"Keywords","\xa9lyr":"Lyrics","\xa9cmt":"Comment",tmpo:"Tempo",cpil:"Compilation",disk:"Disc Number",tvsh:"TV Show Name",tven:"TV Episode ID",tvsn:"TV Season",tves:"TV Episode",tvnn:"TV Network",desc:"Description",ldes:"Long Description",sonm:"Sort Name",soar:"Sort Artist",soaa:"Sort Album",soco:"Sort Composer",sosn:"Sort Show",purd:"Purchase Date",pcst:"Podcast",purl:"Podcast URL",catg:"Category",hdvd:"HD Video",stik:"Media Type",rtng:"Content Rating",pgap:"Gapless Playback",apID:"Purchase Account",sfID:"Country Code",atID:"Artist ID",cnID:"Catalog ID",plID:"Collection ID",geID:"Genre ID","xid ":"Vendor Information",flvr:"Codec Flavor"},l={title:"\xa9nam",artist:"\xa9ART",album:"\xa9alb",year:"\xa9day",comment:"\xa9cmt",track:"trkn",genre:"\xa9gen",picture:"covr",lyrics:"\xa9lyr"};e.exports=s},3213:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(1463),r(1868);var u=r(3942),s=r(457),c=r(8485);r(560);var f=r(9505),l=r(6726),d=r(1889),g=r(8968),y=[],h=[];function p(e,t){var r=e.offset>=0&&e.offset+e.length>=t,n=e.offset<0&&(-e.offset>t||e.offset+e.length>0);return!(r||n)}var v=function(){function e(t){n(this,e),a(this,"_file",void 0),a(this,"_tagsToRead",void 0),a(this,"_fileReader",void 0),a(this,"_tagReader",void 0),this._file=t}return i(e,[{key:"setTagsToRead",value:function(e){return this._tagsToRead=e,this}},{key:"setFileReader",value:function(e){return this._fileReader=e,this}},{key:"setTagReader",value:function(e){return this._tagReader=e,this}},{key:"read",value:function(e){var t=new(this._getFileReader())(this._file),r=this;t.init({onSuccess:function(){r._getTagReader(t,{onSuccess:function(n){new n(t).setTagsToRead(r._tagsToRead).read(e)},onError:e.onError})},onError:e.onError})}},{key:"_getFileReader",value:function(){return this._fileReader?this._fileReader:this._findFileReader()}},{key:"_findFileReader",value:function(){for(var e=0;e<y.length;e++)if(y[e].canReadFile(this._file))return y[e];throw Error("No suitable file reader found for "+this._file)}},{key:"_getTagReader",value:function(e,t){if(this._tagReader){var r=this._tagReader;setTimeout(function(){t.onSuccess(r)},1)}else this._findTagReader(e,t)}},{key:"_findTagReader",value:function(e,t){for(var r=[],n=[],o=e.getSize(),i=0;i<h.length;i++){var a=h[i].getTagIdentifierByteRange();p(a,o)&&(a.offset>=0&&a.offset<o/2||a.offset<0&&a.offset<-o/2?r.push(h[i]):n.push(h[i]))}var u=!1,s={onSuccess:function(){if(!u){u=!0;return}for(var r=0;r<h.length;r++){var n=h[r].getTagIdentifierByteRange();if(p(n,o)){try{var i=e.getBytesAt(n.offset>=0?n.offset:n.offset+o,n.length)}catch(e){t.onError&&t.onError({type:"fileReader",info:e.message});return}if(h[r].canReadTagFormat(i))return void t.onSuccess(h[r])}}t.onError&&t.onError({type:"tagFormat",info:"No suitable tag reader found"})},onError:t.onError};this._loadTagIdentifierRanges(e,r,s),this._loadTagIdentifierRanges(e,n,s)}},{key:"_loadTagIdentifierRanges",value:function(e,t,r){if(0===t.length)return void setTimeout(r.onSuccess,1);for(var n=[Number.MAX_VALUE,0],o=e.getSize(),i=0;i<t.length;i++){var a=t[i].getTagIdentifierByteRange(),u=a.offset>=0?a.offset:a.offset+o,s=u+a.length-1;n[0]=Math.min(u,n[0]),n[1]=Math.max(s,n[1])}e.loadRange(n,r)}}]),e}(),m=function(){function e(){n(this,e)}return i(e,null,[{key:"addFileReader",value:function(t){return y.push(t),e}},{key:"addTagReader",value:function(t){return h.push(t),e}},{key:"removeTagReader",value:function(t){var r=h.indexOf(t);return r>=0&&h.splice(r,1),e}},{key:"EXPERIMENTAL_avoidHeadRequests",value:function(){u.setConfig({avoidHeadRequests:!0})}},{key:"setDisallowedXhrHeaders",value:function(e){u.setConfig({disallowedXhrHeaders:e})}},{key:"setXhrTimeoutInSec",value:function(e){u.setConfig({timeoutInSec:e})}}]),e}();m.addFileReader(u).addFileReader(s).addFileReader(c).addTagReader(l).addTagReader(f).addTagReader(d).addTagReader(g),e.exports={read:function(e,t){new v(e).read(t)},Reader:v,Config:m}},3942:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r(6771),f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");g.prototype=Object.create(e&&e.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),e&&i(g,e);var t,f,l,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r,o,i=u(g);return o=t?Reflect.construct(i,arguments,u(this).constructor):i.apply(this,arguments),e=this,(r=o)&&("object"===n(r)||"function"==typeof r)?r:a(e)});function g(e){var t;if(!(this instanceof g))throw TypeError("Cannot call a class as a function");return s(a(t=d.call(this)),"_url",void 0),s(a(t),"_fileData",void 0),t._url=e,t._fileData=new c,t}return f=[{key:"_init",value:function(e){g._config.avoidHeadRequests?this._fetchSizeWithGetRequest(e):this._fetchSizeWithHeadRequest(e)}},{key:"_fetchSizeWithHeadRequest",value:function(e){var t=this;this._makeXHRRequest("HEAD",null,{onSuccess:function(r){var n=t._parseContentLength(r);n?(t._size=n,e.onSuccess()):t._fetchSizeWithGetRequest(e)},onError:e.onError})}},{key:"_fetchSizeWithGetRequest",value:function(e){var t=this,r=this._roundRangeToChunkMultiple([0,0]);this._makeXHRRequest("GET",r,{onSuccess:function(r){var n=t._parseContentRange(r),o=t._getXhrResponseContent(r);if(n){if(null==n.instanceLength)return void t._fetchEntireFile(e);t._size=n.instanceLength}else t._size=o.length;t._fileData.addData(0,o),e.onSuccess()},onError:e.onError})}},{key:"_fetchEntireFile",value:function(e){var t=this;this._makeXHRRequest("GET",null,{onSuccess:function(r){var n=t._getXhrResponseContent(r);t._size=n.length,t._fileData.addData(0,n),e.onSuccess()},onError:e.onError})}},{key:"_getXhrResponseContent",value:function(e){return e.responseBody||e.responseText||""}},{key:"_parseContentLength",value:function(e){var t=this._getResponseHeader(e,"Content-Length");return null==t?t:parseInt(t,10)}},{key:"_parseContentRange",value:function(e){var t=this._getResponseHeader(e,"Content-Range");if(!t)return null;var r=t.match(/bytes (\d+)-(\d+)\/(?:(\d+)|\*)/i);if(!r)throw Error("FIXME: Unknown Content-Range syntax: "+t);return{firstBytePosition:parseInt(r[1],10),lastBytePosition:parseInt(r[2],10),instanceLength:r[3]?parseInt(r[3],10):null}}},{key:"loadRange",value:function(e,t){var r=this;r._fileData.hasDataRange(e[0],Math.min(r._size,e[1]))?setTimeout(t.onSuccess,1):((e=this._roundRangeToChunkMultiple(e))[1]=Math.min(r._size,e[1]),this._makeXHRRequest("GET",e,{onSuccess:function(n){var o=r._getXhrResponseContent(n);r._fileData.addData(e[0],o),t.onSuccess()},onError:t.onError}))}},{key:"_roundRangeToChunkMultiple",value:function(e){var t=1024*Math.ceil((e[1]-e[0]+1)/1024);return[e[0],e[0]+t-1]}},{key:"_makeXHRRequest",value:function(e,t,r){var n=this._createXHRObject();n.open(e,this._url);var o=function(){200===n.status||206===n.status?r.onSuccess(n):r.onError&&r.onError({type:"xhr",info:"Unexpected HTTP status "+n.status+".",xhr:n}),n=null};void 0!==n.onload?(n.onload=o,n.onerror=function(){r.onError&&r.onError({type:"xhr",info:"Generic XHR error, check xhr object.",xhr:n})}):n.onreadystatechange=function(){4===n.readyState&&o()},g._config.timeoutInSec&&(n.timeout=1e3*g._config.timeoutInSec,n.ontimeout=function(){r.onError&&r.onError({type:"xhr",info:"Timeout after "+n.timeout/1e3+"s. Use jsmediatags.Config.setXhrTimeout to override.",xhr:n})}),n.overrideMimeType("text/plain; charset=x-user-defined"),t&&this._setRequestHeader(n,"Range","bytes="+t[0]+"-"+t[1]),this._setRequestHeader(n,"If-Modified-Since","Sat, 01 Jan 1970 00:00:00 GMT"),n.send(null)}},{key:"_setRequestHeader",value:function(e,t,r){0>g._config.disallowedXhrHeaders.indexOf(t.toLowerCase())&&e.setRequestHeader(t,r)}},{key:"_hasResponseHeader",value:function(e,t){var r=e.getAllResponseHeaders();if(!r)return!1;for(var n=r.split("\r\n"),o=[],i=0;i<n.length;i++)o[i]=n[i].split(":")[0].toLowerCase();return o.indexOf(t.toLowerCase())>=0}},{key:"_getResponseHeader",value:function(e,t){return this._hasResponseHeader(e,t)?e.getResponseHeader(t):null}},{key:"getByteAt",value:function(e){return 255&this._fileData.getByteAt(e).charCodeAt(0)}},{key:"_isWebWorker",value:function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}},{key:"_createXHRObject",value:function(){if("undefined"==typeof window&&!this._isWebWorker())return new(r(1170)).XMLHttpRequest;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;throw Error("XMLHttpRequest is not supported")}}],l=[{key:"canReadFile",value:function(e){return"string"==typeof e&&/^[a-z]+:\/\//i.test(e)}},{key:"setConfig",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._config[t]=e[t]);for(var r=this._config.disallowedXhrHeaders,n=0;n<r.length;n++)r[n]=r[n].toLowerCase()}}],f&&o(g.prototype,f),l&&o(g,l),g}(r(1868));s(f,"_config",void 0),f._config={avoidHeadRequests:!1,disallowedXhrHeaders:[],timeoutInSec:30},e.exports=f},6726:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r(560);r(1868);var s=r(9087),c=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),e&&i(l,e);var t,r,u,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r,o,i=a(l);return o=t?Reflect.construct(i,arguments,a(this).constructor):i.apply(this,arguments),e=this,(r=o)&&("object"===n(r)||"function"==typeof r)?r:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)});function l(){if(!(this instanceof l))throw TypeError("Cannot call a class as a function");return c.apply(this,arguments)}return r=[{key:"_loadData",value:function(e,t){e.loadRange([6,9],{onSuccess:function(){e.loadRange([0,10+e.getSynchsafeInteger32At(6)-1],t)},onError:t.onError})}},{key:"_parseData",value:function(e,t){var r=0,n=e.getByteAt(r+3);if(n>4)return{type:"ID3",version:">2.4",tags:{}};var o=e.getByteAt(r+4),i=e.isBitSetAt(r+5,7),a=e.isBitSetAt(r+5,6),u=e.isBitSetAt(r+5,5),c=e.getSynchsafeInteger32At(r+6);if(r+=10,a)if(4===n){var l=e.getSynchsafeInteger32At(r);r+=l}else{var l=e.getLongAt(r,!0);r+=l+4}var d={type:"ID3",version:"2."+n+"."+o,major:n,revision:o,flags:{unsynchronisation:i,extended_header:a,experimental_indicator:u,footer_present:!1},size:c,tags:{}};if(t)var g=this._expandShortcutTags(t);var y=c+10;d.flags.unsynchronisation&&(e=s.getUnsyncFileReader(e,r,c),r=0,y=e.getSize());var h=s.readFrames(r,y,e,d,g);for(var p in f)if(f.hasOwnProperty(p)){var v=this._getFrameData(h,f[p]);v&&(d.tags[p]=v)}for(var m in h)h.hasOwnProperty(m)&&(d.tags[m]=h[m]);return d}},{key:"_getFrameData",value:function(e,t){for(var r,n,o=0;n=t[o];o++)if(n in e)return(e[n]instanceof Array?e[n][0]:e[n]).data}},{key:"getShortcuts",value:function(){return f}}],u=[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:10}}},{key:"canReadTagFormat",value:function(e){return"ID3"===String.fromCharCode.apply(String,e.slice(0,3))}}],r&&o(l.prototype,r),u&&o(l,u),l}(u),f={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]};e.exports=c},6771:e=>{"use strict";function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(){var e,r;function n(){var e,t;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");t=void 0,(e="_fileData")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t,this._fileData=[]}return r=[{key:"NOT_FOUND",get:function(){return -1}}],e=[{key:"addData",value:function(e,t){var r=e+t.length-1,n=this._getChunkRange(e,r);if(-1===n.startIx)this._fileData.splice(n.insertIx||0,0,{offset:e,data:t});else{var o=this._fileData[n.startIx],i=this._fileData[n.endIx],a=e>o.offset,u=r<i.offset+i.data.length-1,s={offset:Math.min(e,o.offset),data:t};if(a){var c=this._sliceData(o.data,0,e-o.offset);s.data=this._concatData(c,t)}if(u){var c=this._sliceData(s.data,0,i.offset-s.offset);s.data=this._concatData(c,i.data)}this._fileData.splice(n.startIx,n.endIx-n.startIx+1,s)}}},{key:"_concatData",value:function(e,t){if(!("undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e)))return e.concat(t);var r=new e.constructor(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}},{key:"_sliceData",value:function(e,t,r){return e.slice?e.slice(t,r):e.subarray(t,r)}},{key:"_getChunkRange",value:function(e,t){for(var r=-1,n=-1,o=0,i=0;i<this._fileData.length;o=++i){var a=this._fileData[i].offset,u=a+this._fileData[i].data.length;if(t<a-1)break;if(e<=u+1&&t>=a-1){r=i;break}}if(-1===r)return{startIx:-1,endIx:-1,insertIx:o};for(var i=r;i<this._fileData.length;i++){var a=this._fileData[i].offset,u=a+this._fileData[i].data.length;if(t>=a-1&&(n=i),t<=u+1)break}return -1===n&&(n=r),{startIx:r,endIx:n}}},{key:"hasDataRange",value:function(e,t){for(var r=0;r<this._fileData.length;r++){var n=this._fileData[r];if(t<n.offset)break;if(e>=n.offset&&t<n.offset+n.data.length)return!0}return!1}},{key:"getByteAt",value:function(e){for(var t,r=0;r<this._fileData.length;r++){var n=this._fileData[r].offset,o=n+this._fileData[r].data.length-1;if(e>=n&&e<=o){t=this._fileData[r];break}}if(t)return t.data[e-t.offset];throw Error("Offset "+e+" hasn't been loaded yet.")}}],t(n.prototype,e),r&&t(n,r),n}()},7587:e=>{"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var r=function(){var e;function r(e,n){if(!(this instanceof r))throw TypeError("Cannot call a class as a function");t(this,"_value",void 0),t(this,"bytesReadCount",void 0),t(this,"length",void 0),this._value=e,this.bytesReadCount=n,this.length=e.length}return e=[{key:"toString",value:function(){return this._value}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,e),r}();e.exports={readUTF16String:function(e,t,n){var o=0,i=1,a=0;n=Math.min(n||e.length,e.length),254==e[0]&&255==e[1]?(t=!0,o=2):255==e[0]&&254==e[1]&&(t=!1,o=2),t&&(i=0,a=1);for(var u=[],s=0;o<n;s++){var c=e[o+i],f=(c<<8)+e[o+a];if(o+=2,0==f)break;if(c<216||c>=224)u[s]=String.fromCharCode(f);else{var l=(e[o+i]<<8)+e[o+a];o+=2,u[s]=String.fromCharCode(f,l)}}return new r(u.join(""),o)},readUTF8String:function(e,t){var n=0;t=Math.min(t||e.length,e.length),239==e[0]&&187==e[1]&&191==e[2]&&(n=3);for(var o=[],i=0;n<t;i++){var a=e[n++];if(0==a)break;if(a<128)o[i]=String.fromCharCode(a);else if(a>=194&&a<224){var u=e[n++];o[i]=String.fromCharCode(((31&a)<<6)+(63&u))}else if(a>=224&&a<240){var u=e[n++],s=e[n++];o[i]=String.fromCharCode(((255&a)<<12)+((63&u)<<6)+(63&s))}else if(a>=240&&a<245){var u=e[n++],s=e[n++],c=((7&a)<<18)+((63&u)<<12)+((63&s)<<6)+(63&e[n++])-65536;o[i]=String.fromCharCode((c>>10)+55296,(1023&c)+56320)}}return new r(o.join(""),n)},readNullTerminatedString:function(e,t){var n=[];t=t||e.length;for(var o=0;o<t;){var i=e[o++];if(0==i)break;n[o-1]=String.fromCharCode(i)}return new r(n.join(""),o)}}},8485:(e,t,r)=>{"use strict";var n=r(2619).Buffer;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),e&&a(d,e);var t,r,f,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r,n,i=s(d);return n=t?Reflect.construct(i,arguments,s(this).constructor):i.apply(this,arguments),e=this,(r=n)&&("object"===o(r)||"function"==typeof r)?r:u(e)});function d(e){var t;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return c(u(t=l.call(this)),"_array",void 0),c(u(t),"_size",void 0),t._array=e,t._size=e.length,t._isInitialized=!0,t}return r=[{key:"init",value:function(e){setTimeout(e.onSuccess,0)}},{key:"loadRange",value:function(e,t){setTimeout(t.onSuccess,0)}},{key:"getByteAt",value:function(e){if(e>=this._array.length)throw Error("Offset "+e+" hasn't been loaded yet.");return this._array[e]}}],f=[{key:"canReadFile",value:function(e){return Array.isArray(e)||"function"==typeof n&&n.isBuffer(e)}}],r&&i(d.prototype,r),f&&i(d,f),d}(r(1868))},8968:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r(560),f=[4,132],l=[6,134],d=["Other","32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. label side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"];e.exports=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");y.prototype=Object.create(e&&e.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),e&&i(y,e);var t,r,c,g=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r,o,i=u(y);return o=t?Reflect.construct(i,arguments,u(this).constructor):i.apply(this,arguments),e=this,(r=o)&&("object"===n(r)||"function"==typeof r)?r:a(e)});function y(){var e;if(!(this instanceof y))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return s(a(e=g.call.apply(g,[this].concat(r))),"_commentOffset",void 0),s(a(e),"_pictureOffset",void 0),e}return r=[{key:"_loadData",value:function(e,t){var r=this;e.loadRange([4,7],{onSuccess:function(){r._loadBlock(e,4,t)}})}},{key:"_loadBlock",value:function(e,t,r){var n=this,o=e.getByteAt(t),i=e.getInteger24At(t+1,!0);if(-1!==f.indexOf(o)){var a=t+4;e.loadRange([a,a+i],{onSuccess:function(){n._commentOffset=a,n._nextBlock(e,t,o,i,r)}})}else if(-1!==l.indexOf(o)){var a=t+4;e.loadRange([a,a+i],{onSuccess:function(){n._pictureOffset=a,n._nextBlock(e,t,o,i,r)}})}else n._nextBlock(e,t,o,i,r)}},{key:"_nextBlock",value:function(e,t,r,n,o){var i=this;r>127?i._commentOffset?o.onSuccess():o.onError({type:"loadData",info:"Comment block could not be found."}):e.loadRange([t+4+n,t+4+4+n],{onSuccess:function(){i._loadBlock(e,t+4+n,o)}})}},{key:"_parseData",value:function(e,t){for(var r,n,o,i,a,u,s=e.getLongAt(this._commentOffset,!1)+(this._commentOffset+4),c=e.getLongAt(s,!1),f=s+4,l=0;l<c;l++){var g=e.getLongAt(f,!1),y=e.getStringWithCharsetAt(f+4,g,"utf-8").toString(),h=y.indexOf("="),p=[y.slice(0,h),y.slice(h+1)];switch(p[0].toUpperCase()){case"TITLE":r=p[1];break;case"ARTIST":n=p[1];break;case"ALBUM":o=p[1];break;case"TRACKNUMBER":i=p[1];break;case"GENRE":a=p[1]}f+=4+g}if(this._pictureOffset){var v=e.getLongAt(this._pictureOffset,!0),m=this._pictureOffset+4,b=e.getLongAt(m,!0),S=m+4,_=e.getStringAt(S,b),R=S+b,T=e.getLongAt(R,!0),A=R+4,k=e.getStringWithCharsetAt(A,T,"utf-8").toString(),C=A+T+16,O=e.getLongAt(C,!0),P=e.getBytesAt(C+4,O,!0);u={format:_,type:d[v],description:k,data:P}}return{type:"FLAC",version:"1",tags:{title:r,artist:n,album:o,track:i,genre:a,picture:u}}}}],c=[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:4}}},{key:"canReadTagFormat",value:function(e){return"fLaC"===String.fromCharCode.apply(String,e.slice(0,4))}}],r&&o(y.prototype,r),c&&o(y,c),y}(c)},9087:(e,t,r)=>{"use strict";r(1868);var n=r(7587),o=r(8485),i={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",ASPI:"Audio seek point index",CHAP:"Chapter",CTOC:"Table of contents",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQU2:"Equalisation (2)",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVA2:"Relative volume adjustment (2)",RVAD:"Relative volume adjustment",RVRB:"Reverb",SEEK:"Seek frame",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TDRC:"Recording time",TDRL:"Release time",TDTG:"Tagging time",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIPL:"Involved people list",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMCL:"Musician credits list",TMED:"Media type",TMOO:"Mood",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPRO:"Produced notice",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSOA:"Album sort order",TSOP:"Performer sort order",TSOT:"Title sort order",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TSST:"Set subtitle",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"},a=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function")}return e=[{key:"getFrameReaderFunction",value:function(e){return e in u?u[e]:"T"===e[0]?u["T*"]:"W"===e[0]?u["W*"]:null}},{key:"readFrames",value:function(e,r,n,o,i){for(var a={},u=this._getFrameHeaderSize(o);e<r-u;){var s=this._readFrameHeader(n,e,o),c=s.id;if(!c)break;var f=s.flags,l=s.size,d=e+s.headerSize,g=n;if(e+=s.headerSize+s.size,!i||-1!==i.indexOf(c)){if("MP3e"===c||"\0MP3"===c||"\0\0MP"===c||" MP3"===c)break;f&&f.format.unsynchronisation&&!o.flags.unsynchronisation&&(g=this.getUnsyncFileReader(g,d,l),d=0,l=g.getSize()),f&&f.format.data_length_indicator&&(d+=4,l-=4);var y=t.getFrameReaderFunction(c),h=y?y.apply(this,[d,l,g,f,o]):null,p=this._getFrameDescription(c),v={id:c,size:l,description:p,data:h};c in a?(a[c].id&&(a[c]=[a[c]]),a[c].push(v)):a[c]=v}}return a}},{key:"_getFrameHeaderSize",value:function(e){var t=e.major;return 2==t?6:10*(3==t||4==t)}},{key:"_readFrameHeader",value:function(e,t,r){var n=r.major,o=null,i=this._getFrameHeaderSize(r);switch(n){case 2:var a=e.getStringAt(t,3),u=e.getInteger24At(t+3,!0);break;case 3:var a=e.getStringAt(t,4),u=e.getLongAt(t+4,!0);break;case 4:var a=e.getStringAt(t,4),u=e.getSynchsafeInteger32At(t+4)}return(a==String.fromCharCode(0,0,0)||a==String.fromCharCode(0,0,0,0))&&(a=""),a&&n>2&&(o=this._readFrameFlags(e,t+8)),{id:a||"",size:u||0,headerSize:i||0,flags:o}}},{key:"_readFrameFlags",value:function(e,t){return{message:{tag_alter_preservation:e.isBitSetAt(t,6),file_alter_preservation:e.isBitSetAt(t,5),read_only:e.isBitSetAt(t,4)},format:{grouping_identity:e.isBitSetAt(t+1,7),compression:e.isBitSetAt(t+1,3),encryption:e.isBitSetAt(t+1,2),unsynchronisation:e.isBitSetAt(t+1,1),data_length_indicator:e.isBitSetAt(t+1,0)}}}},{key:"_getFrameDescription",value:function(e){return e in i?i[e]:"Unknown"}},{key:"getUnsyncFileReader",value:function(e,t,r){for(var n=e.getBytesAt(t,r),i=0;i<n.length-1;i++)255===n[i]&&0===n[i+1]&&n.splice(i+1,1);return new o(n)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t,e),t}(),u={};function s(e){var t;switch(e){case 0:default:t="iso-8859-1";break;case 1:t="utf-16";break;case 2:t="utf-16be";break;case 3:t="utf-8"}return t}function c(e,t,r,n){var o=r.getStringWithCharsetAt(e+1,t-1,n),i=r.getStringWithCharsetAt(e+1+o.bytesReadCount,t-1-o.bytesReadCount,n);return{user_description:o.toString(),data:i.toString()}}u.APIC=function(e,t,r,n,o){var i=e,a=s(r.getByteAt(e));switch(o&&o.major){case 2:var u=r.getStringAt(e+1,3);e+=4;break;case 3:case 4:var u=r.getStringWithCharsetAt(e+1,t-1);e+=1+u.bytesReadCount;break;default:throw Error("Couldn't read ID3v2 major version.")}var c=f[r.getByteAt(e)],l=r.getStringWithCharsetAt(e+1,t-(e-i)-1,a);return e+=1+l.bytesReadCount,{format:u.toString(),type:c,description:l.toString(),data:r.getBytesAt(e,i+t-e)}},u.CHAP=function(e,t,r,o,i){var a=e,u={},s=n.readNullTerminatedString(r.getBytesAt(e,t));u.id=s.toString(),e+=s.bytesReadCount,u.startTime=r.getLongAt(e,!0),e+=4,u.endTime=r.getLongAt(e,!0),e+=4,u.startOffset=r.getLongAt(e,!0),e+=4,u.endOffset=r.getLongAt(e,!0);var c=t-((e+=4)-a);return u.subFrames=this.readFrames(e,e+c,r,i),u},u.CTOC=function(e,t,r,o,i){var a=e,u={childElementIds:[],id:void 0,topLevel:void 0,ordered:void 0,entryCount:void 0,subFrames:void 0},s=n.readNullTerminatedString(r.getBytesAt(e,t));u.id=s.toString(),e+=s.bytesReadCount,u.topLevel=r.isBitSetAt(e,1),u.ordered=r.isBitSetAt(e,0),e++,u.entryCount=r.getByteAt(e),e++;for(var c=0;c<u.entryCount;c++){var f=n.readNullTerminatedString(r.getBytesAt(e,t-(e-a)));u.childElementIds.push(f.toString()),e+=f.bytesReadCount}var l=t-(e-a);return u.subFrames=this.readFrames(e,e+l,r,i),u},u.COMM=function(e,t,r,n,o){var i=e,a=s(r.getByteAt(e)),u=r.getStringAt(e+1,3),c=r.getStringWithCharsetAt(e+4,t-4,a);e+=4+c.bytesReadCount;var f=r.getStringWithCharsetAt(e,i+t-e,a);return{language:u,short_description:c.toString(),text:f.toString()}},u.COM=u.COMM,u.PIC=function(e,t,r,n,o){return u.APIC(e,t,r,n,o)},u.PCNT=function(e,t,r,n,o){return r.getLongAt(e,!1)},u.CNT=u.PCNT,u["T*"]=function(e,t,r,n,o){var i=s(r.getByteAt(e));return r.getStringWithCharsetAt(e+1,t-1,i).toString()},u.TXXX=function(e,t,r,n,o){var i=s(r.getByteAt(e));return c(e,t,r,i)},u.WXXX=function(e,t,r,n,o){if(0===t)return null;var i=s(r.getByteAt(e));return c(e,t,r,i)},u["W*"]=function(e,t,r,n,o){return 0===t?null:r.getStringWithCharsetAt(e,t,"iso-8859-1").toString()},u.TCON=function(e,t,r,n){var o=u["T*"].apply(this,arguments);return o.replace(/^\(\d+\)/,"")},u.TCO=u.TCON,u.USLT=function(e,t,r,n,o){var i=e,a=s(r.getByteAt(e)),u=r.getStringAt(e+1,3),c=r.getStringWithCharsetAt(e+4,t-4,a);e+=4+c.bytesReadCount;var f=r.getStringWithCharsetAt(e,i+t-e,a);return{language:u,descriptor:c.toString(),lyrics:f.toString()}},u.ULT=u.USLT,u.UFID=function(e,t,r,o,i){var a=n.readNullTerminatedString(r.getBytesAt(e,t));e+=a.bytesReadCount;var u=r.getBytesAt(e,t-a.bytesReadCount);return{ownerIdentifier:a.toString(),identifier:u}};var f=["Other","32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. label side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"];e.exports=a},9505:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r(560);r(1868);var s=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),e&&i(f,e);var t,r,u,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r,o,i=a(f);return o=t?Reflect.construct(i,arguments,a(this).constructor):i.apply(this,arguments),e=this,(r=o)&&("object"===n(r)||"function"==typeof r)?r:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)});function f(){if(!(this instanceof f))throw TypeError("Cannot call a class as a function");return s.apply(this,arguments)}return r=[{key:"_loadData",value:function(e,t){var r=e.getSize();e.loadRange([r-128,r-1],t)}},{key:"_parseData",value:function(e,t){var r=e.getSize()-128,n=e.getStringWithCharsetAt(r+3,30).toString(),o=e.getStringWithCharsetAt(r+33,30).toString(),i=e.getStringWithCharsetAt(r+63,30).toString(),a=e.getStringWithCharsetAt(r+93,4).toString(),u=e.getByteAt(r+97+28),s=e.getByteAt(r+97+29);if(0==u&&0!=s)var f="1.1",l=e.getStringWithCharsetAt(r+97,28).toString();else{var f="1.0",l=e.getStringWithCharsetAt(r+97,30).toString();s=0}var d=e.getByteAt(r+97+30);if(d<255)var g=c[d];else var g="";var y={type:"ID3",version:f,tags:{title:n,artist:o,album:i,year:a,comment:l,genre:g}};return s&&(y.tags.track=s),y}}],u=[{key:"getTagIdentifierByteRange",value:function(){return{offset:-128,length:128}}},{key:"canReadTagFormat",value:function(e){return"TAG"===String.fromCharCode.apply(String,e.slice(0,3))}}],r&&o(f.prototype,r),u&&o(f,u),f}(u),c=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","Acapella","Euro-House","Dance Hall"];e.exports=s}}]);