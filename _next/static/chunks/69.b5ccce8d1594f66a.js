!function(){var t,e,n,r,a,i,l={9580:function(t,e,n){"use strict";var r=n(6647),a=n.n(r);let i=null,l=null,o=new Set;async function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new Set;for await(let r of t.values()){let t="".concat(e,"/").concat(r.name);if("file"===r.kind){let e=r.name.toLowerCase();(e.endsWith(".mp3")||e.endsWith(".flac"))&&n.add(t)}else"directory"===r.kind&&(await s(r,t)).forEach(t=>n.add(t))}return n}async function u(t,e){let n=e.split("/").filter(t=>t),r=t;for(let t=0;t<n.length;t++){let e=n[t];if("directory"!==r.kind)return null;try{r=t===n.length-1?await r.getFileHandle(e):await r.getDirectoryHandle(e)}catch(t){return null}}return"file"===r.kind?await r.getFile():null}async function c(){if(!l)return;self.postMessage({type:"state",payload:"scanning"});let t=await s(l),e=[...t].filter(t=>!o.has(t)),n=[...o].filter(e=>!t.has(e));if(e.length>0){let t=[];for(let n of e){let e=await u(l,n);if(e){let r=await function(t){return new Promise(e=>{a().read(t,{onSuccess:t=>{let n=t.tags;e({title:n.title||"Unknown Title",artist:n.artist||"Unknown Artist",album:n.album||"Unknown Album",track:n.track||"0"})},onError:()=>{e({title:t.name,artist:"Unknown Artist",album:"Unknown Album",track:"0"})}})})}(e);t.push({...r,path:n})}}t.length>0&&self.postMessage({type:"added",payload:t})}n.length>0&&self.postMessage({type:"deleted",payload:n}),o=t,self.postMessage({type:"state",payload:"idle"})}self.onmessage=async t=>{"start"===t.data.type?(l=t.data.payload.directoryHandle,o=t.data.payload.knownFilePaths,i&&clearInterval(i),i=self.setInterval(c,6e4),c()):"stop"===t.data.type&&(i&&(clearInterval(i),i=null),l=null,o.clear(),self.postMessage({type:"state",payload:"stopped"}))}}},o={};function s(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={exports:{}},r=!0;try{l[t](n,n.exports,s),r=!1}finally{r&&delete o[t]}return n.exports}s.m=l,s.x=function(){var t=s.O(void 0,[251,647],function(){return s(9580)});return s.O(t)},t=[],s.O=function(e,n,r,a){if(n){a=a||0;for(var i=t.length;i>0&&t[i-1][2]>a;i--)t[i]=t[i-1];t[i]=[n,r,a];return}for(var l=1/0,i=0;i<t.length;i++){for(var n=t[i][0],r=t[i][1],a=t[i][2],o=!0,u=0;u<n.length;u++)l>=a&&Object.keys(s.O).every(function(t){return s.O[t](n[u])})?n.splice(u--,1):(o=!1,a<l&&(l=a));if(o){t.splice(i--,1);var c=r();void 0!==c&&(e=c)}}return e},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce(function(e,n){return s.f[n](t,e),e},[]))},s.u=function(t){return 251===t?"static/chunks/251-e7428eb7952e3532.js":"static/chunks/"+t+".902fc344ad9a0cda.js"},s.miniCssF=function(t){},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.tt=function(){return void 0===e&&(e={createScriptURL:function(t){return t}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("nextjs#bundler",e))),e},s.tu=function(t){return s.tt().createScriptURL(t)},s.p="/audio/_next/",n={69:1},s.f.i=function(t,e){n[t]||importScripts(s.tu(s.p+s.u(t)))},a=(r=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(r),r.push=function(t){var e=t[0],r=t[1],i=t[2];for(var l in r)s.o(r,l)&&(s.m[l]=r[l]);for(i&&i(s);e.length;)n[e.pop()]=1;a(t)},i=s.x,s.x=function(){return Promise.all([s.e(251),s.e(647)]).then(i)},_N_E=s.x()}();