!function(){var t,e,n,r,a,o,i={9580:function(t,e,n){"use strict";var r=n(6647),a=n.n(r);let o=null,i=null,s=new Set;async function l(){if(!i)return;self.postMessage({type:"state",payload:"scanning"});let t=new Set;async function e(n,r){for await(let o of n.values()){let n=r?"".concat(r,"/").concat(o.name):o.name;if("file"===o.kind){let e=o.name.toLowerCase();if((e.endsWith(".mp3")||e.endsWith(".flac"))&&(t.add(n),!s.has(n)))try{let t=await o.getFile(),e=await function(t){return new Promise(e=>{a().read(t,{onSuccess:t=>{let n=t.tags;e({title:n.title||"Unknown Title",artist:n.artist||"Unknown Artist",album:n.album||"Unknown Album",track:n.track||"0"})},onError:()=>{e({title:t.name,artist:"Unknown Artist",album:"Unknown Album",track:"0"})}})})}(t);self.postMessage({type:"added",payload:[{...e,path:n}]})}catch(t){console.error("Error processing file ".concat(n,":"),t)}}else"directory"===o.kind&&await e(o,n)}}await e(i,"");let n=[...s].filter(e=>!t.has(e));n.length>0&&self.postMessage({type:"deleted",payload:n}),s=t,self.postMessage({type:"state",payload:"idle"})}self.onmessage=async t=>{"start"===t.data.type?(i=t.data.payload.directoryHandle,s=t.data.payload.knownFilePaths,o&&clearInterval(o),o=self.setInterval(l,6e4),l()):"stop"===t.data.type&&(o&&(clearInterval(o),o=null),i=null,s.clear(),self.postMessage({type:"state",payload:"stopped"}))}}},s={};function l(t){var e=s[t];if(void 0!==e)return e.exports;var n=s[t]={exports:{}},r=!0;try{i[t](n,n.exports,l),r=!1}finally{r&&delete s[t]}return n.exports}l.m=i,l.x=function(){var t=l.O(void 0,[251,647],function(){return l(9580)});return l.O(t)},t=[],l.O=function(e,n,r,a){if(n){a=a||0;for(var o=t.length;o>0&&t[o-1][2]>a;o--)t[o]=t[o-1];t[o]=[n,r,a];return}for(var i=1/0,o=0;o<t.length;o++){for(var n=t[o][0],r=t[o][1],a=t[o][2],s=!0,u=0;u<n.length;u++)i>=a&&Object.keys(l.O).every(function(t){return l.O[t](n[u])})?n.splice(u--,1):(s=!1,a<i&&(i=a));if(s){t.splice(o--,1);var c=r();void 0!==c&&(e=c)}}return e},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,{a:e}),e},l.d=function(t,e){for(var n in e)l.o(e,n)&&!l.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},l.f={},l.e=function(t){return Promise.all(Object.keys(l.f).reduce(function(e,n){return l.f[n](t,e),e},[]))},l.u=function(t){return 251===t?"static/chunks/251-e7428eb7952e3532.js":"static/chunks/"+t+".902fc344ad9a0cda.js"},l.miniCssF=function(t){},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.tt=function(){return void 0===e&&(e={createScriptURL:function(t){return t}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("nextjs#bundler",e))),e},l.tu=function(t){return l.tt().createScriptURL(t)},l.p="/audio/_next/",n={69:1},l.f.i=function(t,e){n[t]||importScripts(l.tu(l.p+l.u(t)))},a=(r=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(r),r.push=function(t){var e=t[0],r=t[1],o=t[2];for(var i in r)l.o(r,i)&&(l.m[i]=r[i]);for(o&&o(l);e.length;)n[e.pop()]=1;a(t)},o=l.x,l.x=function(){return Promise.all([l.e(251),l.e(647)]).then(o)},_N_E=l.x()}();